<!doctype html><html lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>读书笔记 | JavaScript 高级程序设计（第四版） - 林风's Blog</title><meta name=Description content="This is my cool site"><meta property="og:url" content="https://leoxiewl.github.io/javascript%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AC%AC%E5%9B%9B%E7%89%88/">
<meta property="og:site_name" content="林风's Blog"><meta property="og:title" content="读书笔记 | JavaScript 高级程序设计（第四版）"><meta property="og:description" content="我对自己的定位仍旧是一个后端工程师，学习了解 JavaScript 的原因是，我自己开发项目需要写一些前端。
就主打一个实用，能实现功能即可。
第1章 什么是JavaScript ❑ JavaScript历史回顾"><meta property="og:locale" content="zh_CN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-01-18T00:00:00+00:00"><meta property="article:modified_time" content="2024-01-18T00:00:00+00:00"><meta property="article:tag" content="JavaScript"><meta property="og:image" content="https://leoxiewl.github.io/logo.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://leoxiewl.github.io/logo.png"><meta name=twitter:title content="读书笔记 | JavaScript 高级程序设计（第四版）"><meta name=twitter:description content="我对自己的定位仍旧是一个后端工程师，学习了解 JavaScript 的原因是，我自己开发项目需要写一些前端。
就主打一个实用，能实现功能即可。
第1章 什么是JavaScript ❑ JavaScript历史回顾"><meta name=application-name content="LoveIt"><meta name=apple-mobile-web-app-title content="LoveIt"><meta name=referrer content="no-referrer"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://leoxiewl.github.io/javascript%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AC%AC%E5%9B%9B%E7%89%88/><link rel=prev href=https://leoxiewl.github.io/day04-atomic-habits/><link rel=next href=https://leoxiewl.github.io/day05-atomic-habits-2/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.2/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.2/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"读书笔记 | JavaScript 高级程序设计（第四版）","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/leoxiewl.github.io\/javascript%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AC%AC%E5%9B%9B%E7%89%88\/"},"image":["https:\/\/leoxiewl.github.io\/images\/Apple-Devices-Preview.png"],"genre":"posts","keywords":"JavaScript","wordcount":8368,"url":"https:\/\/leoxiewl.github.io\/javascript%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AC%AC%E5%9B%9B%E7%89%88\/","datePublished":"2024-01-18T00:00:00+00:00","dateModified":"2024-01-18T00:00:00+00:00","license":"林风的博客","publisher":{"@type":"Organization","name":"xxxx","logo":"https:\/\/leoxiewl.github.io\/images\/avatar.png"},"author":{"@type":"Person","name":"林风Leo"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="林风's Blog">林风Leo</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/>主页 </a><a class=menu-item href=/posts/>文章 </a><a class=menu-item href=/tags/>标签 </a><a class=menu-item href=/categories/>分类 </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder=搜索文章标题或内容... id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fas fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fas fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i>
</span></span><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="林风's Blog">林风Leo</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=搜索文章标题或内容... id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fas fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fas fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></div><a class=menu-item href=/ title>主页</a><a class=menu-item href=/posts/ title>文章</a><a class=menu-item href=/tags/ title>标签</a><a class=menu-item href=/categories/ title>分类</a><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>目录</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">读书笔记 | JavaScript 高级程序设计（第四版）</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>林风Leo</a></span>&nbsp;<span class=post-category>收录于 <a href=/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/><i class="far fa-folder fa-fw" aria-hidden=true></i>读书笔记</a>&nbsp;<a href=/categories/%E7%BC%96%E7%A8%8B%E7%AC%94%E8%AE%B0/><i class="far fa-folder fa-fw" aria-hidden=true></i>编程笔记</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2024-01-18>2024-01-18</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;约 8368 字&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;预计阅读 17 分钟&nbsp;<span id=/javascript%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E7%AC%AC%E5%9B%9B%E7%89%88/ class=leancloud_visitors data-flag-title="读书笔记 | JavaScript 高级程序设计（第四版）">
<i class="far fa-eye fa-fw" aria-hidden=true></i>&nbsp;<span class=leancloud-visitors-count></span>&nbsp;次阅读
</span>&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#第1章-什么是javascript>第1章 什么是JavaScript</a><ul><li><a href=#历史>历史</a></li><li><a href=#javascript-是什么>JavaScript 是什么</a></li><li><a href=#小结>小结</a></li></ul></li><li><a href=#第2章-html中的javascript>第2章 HTML中的JavaScript</a></li><li><a href=#第3章-语言基础-基于es6>第3章 语言基础-基于ES6</a><ul><li><a href=#语法>语法</a><ul><li><a href=#区分大小写>区分大小写</a></li><li><a href=#标识符>标识符</a></li><li><a href=#注释>注释</a></li><li><a href=#严格模式>严格模式</a></li><li><a href=#语句-推荐加分号>语句-推荐加分号</a></li><li><a href=#关键字与保留字>关键字与保留字</a></li></ul></li><li><a href=#变量>变量</a><ul><li><a href=#var-关键字>var 关键字</a></li><li><a href=#let声明>let声明</a></li><li><a href=#const声明>const声明</a></li><li><a href=#声明风格及最佳实践>⭐声明风格及最佳实践</a></li></ul></li><li><a href=#数据类型>数据类型</a><ul><li><a href=#typeof操作符>typeof操作符</a></li><li><a href=#undefined类型>Undefined类型</a></li><li><a href=#null类型-对象类型>Null类型-对象类型</a><ul><li><a href=#null和undefined>null和undefined</a></li></ul></li><li><a href=#boolean类型>Boolean类型</a></li><li><a href=#number类型>Number类型</a></li><li><a href=#string类型>String类型</a><ul><li><a href=#字符字面量>字符字面量</a></li><li><a href=#长度>长度</a></li><li><a href=#转换为字符串>转换为字符串</a></li><li><a href=#模板字面量>模板字面量</a></li><li><a href=#字符串插值><strong>字符串插值</strong></a></li><li><a href=#模板字面量标签函数>模板字面量标签函数</a></li><li><a href=#原始字符串>原始字符串</a></li></ul></li><li><a href=#symbol类型>Symbol类型</a></li><li><a href=#object类型>Object类型</a></li></ul></li><li><a href=#函数>函数</a></li></ul></li><li><a href=#第10章-函数>第10章 函数</a><ul><li><a href=#定义函数的方式>定义函数的方式</a></li><li><a href=#箭头函数>箭头函数</a></li></ul></li></ul></nav></div></div><div class=content id=content><p>我对自己的定位仍旧是一个后端工程师，学习了解 JavaScript 的原因是，我自己开发项目需要写一些前端。</p><p><strong>就主打一个实用，能实现功能即可</strong>。</p><h2 id=第1章-什么是javascript>第1章 什么是JavaScript</h2><p>❑ JavaScript历史回顾</p><p>❑ JavaScript是什么</p><p>❑ JavaScript与ECMAScript的关系</p><p>❑ JavaScript的不同版本</p><h3 id=历史>历史</h3><p>1995年，JavaScript问世。当时，它的主要用途是代替Perl等服务器端语言处理输入验证</p><p>它很简单，学会用只要几分钟；它又很复杂，掌握它要很多年。</p><blockquote><p>Java 和 JavaScript 的关系</p><p>在Netscape Navigator 2正式发布前，网景把 LiveScript 改名为 JavaScript，以便搭上媒体当时热烈炒作Java的顺风车。</p></blockquote><h3 id=javascript-是什么>JavaScript 是什么</h3><p>完整的JavaScript实现包含以下几个部分</p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://pic.imgdb.cn/item/65a8a008871b83018a4b8d83.jpg data-srcset="https://pic.imgdb.cn/item/65a8a008871b83018a4b8d83.jpg, https://pic.imgdb.cn/item/65a8a008871b83018a4b8d83.jpg 1.5x, https://pic.imgdb.cn/item/65a8a008871b83018a4b8d83.jpg 2x" data-sizes=auto alt=https://pic.imgdb.cn/item/65a8a008871b83018a4b8d83.jpg title=https://pic.imgdb.cn/item/65a8a008871b83018a4b8d83.jpg></p><p><img class=lazyload src=/svg/loading.min.svg data-src=JavaScript%e9%ab%98%e7%ba%a7%e7%a8%8b%e5%ba%8f%e8%ae%be%e8%ae%a1%28%e7%ac%ac%e5%9b%9b%e7%89%88%29.assets/image-20240118115119518.png data-srcset="JavaScript%e9%ab%98%e7%ba%a7%e7%a8%8b%e5%ba%8f%e8%ae%be%e8%ae%a1%28%e7%ac%ac%e5%9b%9b%e7%89%88%29.assets/image-20240118115119518.png, JavaScript%e9%ab%98%e7%ba%a7%e7%a8%8b%e5%ba%8f%e8%ae%be%e8%ae%a1%28%e7%ac%ac%e5%9b%9b%e7%89%88%29.assets/image-20240118115119518.png 1.5x, JavaScript%e9%ab%98%e7%ba%a7%e7%a8%8b%e5%ba%8f%e8%ae%be%e8%ae%a1%28%e7%ac%ac%e5%9b%9b%e7%89%88%29.assets/image-20240118115119518.png 2x" data-sizes=auto alt=JavaScript高级程序设计(第四版).assets/image-20240118115119518.png title=image-20240118115119518></p><p>❑ 核心（ECMAScript）</p><p>❑ 文档对象模型（DOM）</p><p>❑ 浏览器对象模型（BOM）</p><p><strong>ECMAScript</strong></p><p>ECMA-262将这门语言作为一个基准来定义，以便在它之上再构建更稳健的脚本语言</p><p><strong>宿主环境</strong>提供ECMAScript的基准实现和与环境自身交互必需的扩展</p><p>Web 浏览器是 ECMAScript 的宿主环境，服务端JavaScript平台Node.js也是宿主环境</p><p>不涉及浏览器的话，ECMA-262到底定义了什么？</p><p>❑ 语法❑ 类型❑ 语句❑ 关键字❑ 保留字❑ 操作符❑ 全局对象</p><p><strong>ECMAScript只是对实现这个规范描述的所有方面的一门语言的称呼</strong></p><blockquote><p>JavaScript实现了ECMAScript，而Adobe ActionScript同样也实现了ECMAScript。</p></blockquote><p><strong>DOM</strong></p><p>文档对象模型（DOM, Document Object Model）是一个应用编程接口（API），用于在HTML中使用扩展的XML。</p><p>DOM将整个页面抽象为一组分层节点。HTML或XML页面的每个组成部分都是一种节点，包含不同的数据</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-html"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;</span>Sample Page<span class=p>&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;</span> Hello World! <span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span></span></span></code></pre></div></div><img src=https://pic.imgdb.cn/item/65a8a21f871b83018a524f26.jpg style=zoom:50%><p><u>DOM 的作用</u></p><p>DOM通过创建表示文档的树，让开发者可以随心所欲地控制网页的内容和结构。使用DOM API，可以轻松地删除、添加、替换、修改节点。</p><p><strong>BOM</strong></p><p>浏览器对象模型（BOM）API，用于支持访问和操作浏览器的窗口</p><p>使用BOM，开发者可以操控浏览器显示页面之外的部分。</p><p>BOM主要针对浏览器窗口和子窗口（frame），不过人们通常会把任何特定于浏览器的扩展都归在BOM的范畴内。比如，下面就是这样一些扩展：</p><p>❑ 弹出新浏览器窗口的能力；</p><p>❑ 移动、缩放和关闭浏览器窗口的能力；</p><p>❑ 对cookie的支持；</p><p>❑ 其他自定义对象，如XMLHttpRequest和IE的ActiveXObject。</p><h3 id=小结>小结</h3><p>❑ ECMAScript：由ECMA-262定义并提供核心功能。</p><p>❑ 文档对象模型（DOM）：提供与网页内容交互的方法和接口。</p><p>❑ 浏览器对象模型（BOM）：提供与浏览器交互的方法和接口。</p><h2 id=第2章-html中的javascript>第2章 HTML中的JavaScript</h2><h2 id=第3章-语言基础-基于es6>第3章 语言基础-基于ES6</h2><blockquote><p>ECMA-262第5版（ES5）定义的ECMAScript，是目前为止实现得最为广泛（即受浏览器支持最好）的一个版本。</p><p>第6版（ES6）在浏览器中的实现（即受支持）程度次之。到2017年底，大多数主流浏览器几乎或全部实现了这一版的规范。</p><p>为此，本章接下来的内容==<strong>主要基于ECMAScript第6版</strong>==。</p></blockquote><h3 id=语法>语法</h3><p>ECMAScript的语法很大程度上借鉴了C语言和其他类C语言，如Java和Perl。</p><h4 id=区分大小写>区分大小写</h4><p>ECMAScript中一切都区分大小写。无论是变量、函数名还是操作符，都区分大小写</p><p><strong>变量test和变量Test是两个不同的变量</strong></p><h4 id=标识符>标识符</h4><p>标识符，就是变量、函数、属性或函数参数的名称</p><p>规则</p><p>❑ 第一个字符必须是一个字母、下划线（_）或美元符号（$）；</p><p>❑ 剩下的其他字符可以是字母、下划线、美元符号或数字。</p><p>按照惯例，ECMAScript标识符使用驼峰大小写形式</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><pre tabindex=0><code>    firstSecond
    myCar
    doSomethingImportant</code></pre></div><p>⚠注意：关键字、保留字、true、false和null不能作为标识符</p><h4 id=注释>注释</h4><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// 单行注释
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=err>/＊ 这是多行</span>
</span></span><span class=line><span class=cl>   <span class=nx>注释</span>
</span></span><span class=line><span class=cl><span class=err>＊</span><span class=o>/</span></span></span></code></pre></div></div><h4 id=严格模式>严格模式</h4><p>启用了严格模式，不规范写法会被处理，不安全活动将抛出错误</p><blockquote><p>ECMAScript 5增加了严格模式（strict mode）的概念</p></blockquote><p>对整个脚本启用严格模式，在脚本开头加上</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=s2>&#34;use strict&#34;</span><span class=p>;</span></span></span></code></pre></div></div><p>这是一个预处理指令</p><p>指定一个函数启用严格模式</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>function</span> <span class=nx>doSomething</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;use strict&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=c1>// 函数体
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span></span></span></code></pre></div></div><h4 id=语句-推荐加分号>语句-推荐加分号</h4><p><strong>分号</strong></p><p>ECMAScript中的语句以分号结尾。省略分号意味着由解析器确定语句在哪里结尾</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>sum</span> <span class=o>=</span> <span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span>        <span class=c1>// 没有分号也有效，但不推荐
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>diff</span> <span class=o>=</span> <span class=nx>a</span> <span class=o>-</span> <span class=nx>b</span><span class=p>;</span>     <span class=c1>// 加分号有效，推荐
</span></span></span></code></pre></div></div><p><strong>代码块</strong></p><p>代码块由一个左花括号（{）标识开始，一个右花括号（}）标识结束</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>test</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>test</span> <span class=o>=</span> <span class=kc>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>test</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span></span></span></code></pre></div></div><h4 id=关键字与保留字>关键字与保留字</h4><p>ECMA-262第6版规定的所有关键字如下</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=k>break</span>         <span class=k>do</span>             <span class=k>in</span>               <span class=k>typeof</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span>          <span class=k>else</span>          <span class=k>instanceof</span>     <span class=kd>var</span>
</span></span><span class=line><span class=cl>    <span class=k>catch</span>         <span class=kr>export</span>        <span class=k>new</span>              <span class=k>void</span>
</span></span><span class=line><span class=cl>    <span class=kr>class</span>         <span class=kr>extends</span>      <span class=k>return</span>          <span class=k>while</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span>         <span class=k>finally</span>      <span class=kr>super</span>           <span class=kd>with</span>
</span></span><span class=line><span class=cl>    <span class=k>continue</span>     <span class=k>for</span>           <span class=k>switch</span>          <span class=k>yield</span>
</span></span><span class=line><span class=cl>    <span class=kr>debugger</span>     <span class=kd>function</span>     <span class=k>this</span>
</span></span><span class=line><span class=cl>    <span class=k>default</span>      <span class=k>if</span>             <span class=k>throw</span>
</span></span><span class=line><span class=cl>    <span class=k>delete</span>        <span class=kr>import</span>        <span class=k>try</span></span></span></code></pre></div></div><p>规范中也描述了一组未来的保留字</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=nx>始终保留</span><span class=err>：</span>
</span></span><span class=line><span class=cl>    <span class=kr>enum</span>
</span></span><span class=line><span class=cl>    <span class=nx>严格模式下保留</span><span class=err>：</span>
</span></span><span class=line><span class=cl>    <span class=kr>implements</span>   <span class=kr>package</span>      <span class=kr>public</span>
</span></span><span class=line><span class=cl>    <span class=kr>interface</span>    <span class=kr>protected</span>    <span class=kr>static</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span>           <span class=kr>private</span>
</span></span><span class=line><span class=cl>    <span class=nx>模块代码中保留</span><span class=err>：</span>
</span></span><span class=line><span class=cl>    <span class=kr>await</span></span></span></code></pre></div></div><blockquote><p>这些词汇不能用作标识符，但现在还可以用作对象的属性名。一般来说，最好还是不要使用关键字和保留字作为标识符和属性名，以确保兼容过去和未来的ECMAScript版本。</p></blockquote><h3 id=变量>变量</h3><p>ECMAScript变量是松散类型的，意思是变量可以用于保存任何类型的数据</p><blockquote><p>不是强类型</p></blockquote><p>有3个关键字可以声明变量：var、const和let。</p><p>其中，var在ECMAScript的所有版本中都可以使用，而<strong>const和let</strong>只能在ECMAScript 6及更晚的版本中使用。</p><h4 id=var-关键字>var 关键字</h4><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>message</span><span class=p>;</span></span></span></code></pre></div></div><p>这行代码定义了一个名为message的变量，可以用它<strong>保存任何类型的值</strong>。（不初始化的情况下，变量会保存一个特殊值undefined）</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>message</span> <span class=o>=</span> <span class=s2>&#34;hi&#34;</span><span class=p>;</span></span></span></code></pre></div></div><blockquote><p>可以自动推断类型</p></blockquote><p>随后，不仅可以改变保存的值，也可以改变值的类型：</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>message</span> <span class=o>=</span> <span class=s2>&#34;hi&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>message</span><span class=o>=</span><span class=mi>100</span><span class=p>;</span>  <span class=c1>//合法，但不推荐
</span></span></span></code></pre></div></div><p><strong>var声明作用域</strong></p><p>关键的问题在于，使用var操作符定义的变量会成为包含它的函数的<strong>局部变量。</strong></p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>function</span> <span class=nx>test</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>message</span> <span class=o>=</span> <span class=s2>&#34;hi&#34;</span><span class=p>;</span> <span class=c1>// 局部变量
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=nx>test</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>message</span><span class=p>);</span> <span class=c1>// 出错！
</span></span></span></code></pre></div></div><p>在函数内定义变量时省略var操作符，可以创建一个<strong>全局变量</strong></p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>function</span> <span class=nx>test</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>message</span><span class=o>=</span><span class=s2>&#34;hi&#34;</span><span class=p>;</span>     <span class=c1>//全局变量
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=nx>test</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>message</span><span class=p>);</span> <span class=c1>// &#34;hi&#34;
</span></span></span></code></pre></div></div><p>⚠注意 虽然可以通过省略var操作符定义全局变量，但<strong>不推荐这么做</strong>。在局部作用域中定义的全局变量很难维护，也会造成困惑。这是因为不能一下子断定省略var是不是有意而为之。在严格模式下，如果像这样给未声明的变量赋值，则会导致抛出ReferenceError。</p><p><strong>定义多个变量</strong></p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>message</span> <span class=o>=</span> <span class=s2>&#34;hi&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>found</span> <span class=o>=</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nx>age</span> <span class=o>=</span> <span class=mi>29</span><span class=p>;</span></span></span></code></pre></div></div><blockquote><p>插入换行和空格缩进并不是必需的，但这样有利于阅读理解。</p></blockquote><p><strong>var声明提升</strong></p><p>使用这个关键字声明的变量会自动提升到函数作用域顶部：</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>function</span> <span class=nx>foo</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>age</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>age</span> <span class=o>=</span> <span class=mi>26</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=nx>foo</span><span class=p>();</span>   <span class=c1>// undefined
</span></span></span></code></pre></div></div><p>之所以不会报错，是因为ECMAScript运行时把它看成等价于如下代码：</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>function</span> <span class=nx>foo</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>age</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>age</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>age</span> <span class=o>=</span> <span class=mi>26</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=nx>foo</span><span class=p>();</span>   <span class=c1>// undefined
</span></span></span></code></pre></div></div><p>反复多次使用var声明同一个变量也没有问题：</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>function</span> <span class=nx>foo</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>age</span> <span class=o>=</span> <span class=mi>16</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>age</span> <span class=o>=</span> <span class=mi>26</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>age</span> <span class=o>=</span> <span class=mi>36</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>age</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=nx>foo</span><span class=p>();</span>   <span class=c1>// 36
</span></span></span></code></pre></div></div><h4 id=let声明>let声明</h4><p>let跟var的作用差不多</p><p><strong>最明显的区别是</strong>，let声明的范围是块作用域，而var声明的范围是函数作用域。</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=kc>true</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>name</span> <span class=o>=</span> <span class=s1>&#39;Matt&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>name</span><span class=p>);</span> <span class=c1>// Matt
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>name</span><span class=p>);</span>    <span class=c1>// Matt
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span> <span class=p>(</span><span class=kc>true</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kd>let</span> <span class=nx>age</span> <span class=o>=</span> <span class=mi>26</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>age</span><span class=p>);</span>    <span class=c1>// 26
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>age</span><span class=p>);</span>      <span class=c1>// ReferenceError: age没有定义
</span></span></span></code></pre></div></div><p><strong>另一个重要的区别</strong>，就是let声明的变量不会在作用域中被提升</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=c1>// name会被提升
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>name</span><span class=p>);</span> <span class=c1>// undefined
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>var</span> <span class=nx>name</span> <span class=o>=</span> <span class=s1>&#39;Matt&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c1>// age不会被提升
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>age</span><span class=p>);</span> <span class=c1>// ReferenceError:age没有定义
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>age</span> <span class=o>=</span> <span class=mi>26</span><span class=p>;</span></span></span></code></pre></div></div><hr><p>let也不允许同一个块作用域中出现<strong>冗余声明</strong>。这样会导致报错</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>name</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>name</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>age</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>age</span><span class=p>;</span>   <span class=c1>// SyntaxError；标识符age已经声明过了
</span></span></span></code></pre></div></div><p><strong>嵌套使用</strong>相同的标识符不会报错</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>name</span> <span class=o>=</span> <span class=s1>&#39;Nicholas&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>name</span><span class=p>);</span>     <span class=c1>// &#39;Nicholas&#39;
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span> <span class=p>(</span><span class=kc>true</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>name</span> <span class=o>=</span> <span class=s1>&#39;Matt&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>name</span><span class=p>);</span>   <span class=c1>// &#39;Matt&#39;
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>age</span> <span class=o>=</span> <span class=mi>30</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>age</span><span class=p>);</span>     <span class=c1>// 30
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span> <span class=p>(</span><span class=kc>true</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kd>let</span> <span class=nx>age</span> <span class=o>=</span> <span class=mi>26</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>age</span><span class=p>);</span>   <span class=c1>// 26
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span></span></span></code></pre></div></div><p>对声明冗余报错不会因<strong>混用let和var</strong>而受影响。这两个关键字声明的并不是不同类型的变量，它们只是指出变量在相关作用域如何存在。</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>name</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>name</span><span class=p>;</span> <span class=c1>// SyntaxError
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>age</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>age</span><span class=p>;</span> <span class=c1>// SyntaxError
</span></span></span></code></pre></div></div><p><strong>全局声明</strong></p><p>使用let在全局作用域中声明的变量不会成为window对象的属性（var声明的变量则会）。</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>name</span> <span class=o>=</span> <span class=s1>&#39;Matt&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nb>window</span><span class=p>.</span><span class=nx>name</span><span class=p>);</span> <span class=c1>// &#39;Matt&#39;
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>age</span> <span class=o>=</span> <span class=mi>26</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nb>window</span><span class=p>.</span><span class=nx>age</span><span class=p>);</span>   <span class=c1>// undefined
</span></span></span></code></pre></div></div><p><strong>条件声明</strong></p><blockquote><p>在使用var声明变量时，由于声明会被提升，JavaScript引擎会自动将多余的声明在作用域顶部合并为一个声明。因为let的作用域是块，所以不可能检查前面是否已经使用let声明过同名变量，同时也就不可能在没有声明的情况下声明它。</p></blockquote><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=o>&lt;</span><span class=nx>script</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>name</span> <span class=o>=</span> <span class=s1>&#39;Nicholas&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=kd>let</span> <span class=nx>age</span> <span class=o>=</span> <span class=mi>26</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=err>/script&gt;</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;</span><span class=nx>script</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=c1>// 假设脚本不确定页面中是否已经声明了同名变量
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=c1>// 那它可以假设还没有声明过
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kd>var</span> <span class=nx>name</span> <span class=o>=</span> <span class=s1>&#39;Matt&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=c1>// 这里没问题，因为可以被作为一个提升声明来处理
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=c1>// 不需要检查之前是否声明过同名变量
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kd>let</span> <span class=nx>age</span> <span class=o>=</span> <span class=mi>36</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=c1>// 如果age之前声明过，这里会报错
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=o>&lt;</span><span class=err>/script&gt;</span></span></span></code></pre></div></div><p><strong>for循环中的let声明</strong></p><p>在let出现之前，迭代变量可以在外面被访问到</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kd>var</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=mi>5</span><span class=p>;</span> <span class=o>++</span><span class=nx>i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=c1>// 循环逻辑
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>i</span><span class=p>);</span> <span class=c1>// 5
</span></span></span></code></pre></div></div><p>改成使用let之后，这个问题就消失了，因为迭代变量的作用域仅限于for循环块内部：</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=mi>5</span><span class=p>;</span> <span class=o>++</span><span class=nx>i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=c1>// 循环逻辑
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>i</span><span class=p>);</span> <span class=c1>// ReferenceError: i没有定义
</span></span></span></code></pre></div></div><p>在使用var的时候，最常见的问题就是对迭代变量的奇特声明和修改：</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kd>var</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=mi>5</span><span class=p>;</span> <span class=o>++</span><span class=nx>i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>i</span><span class=p>),</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 你可能以为会输出0、1、2、3、4
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// 实际上会输出5、5、5、5、5
</span></span></span></code></pre></div></div><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=mi>5</span><span class=p>;</span> <span class=o>++</span><span class=nx>i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>setTimeout</span><span class=p>(()</span> <span class=p>=&gt;</span> <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>i</span><span class=p>),</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 会输出0、1、2、3、4
</span></span></span></code></pre></div></div><h4 id=const声明>const声明</h4><p>const的行为与let基本相同，唯一一个重要的区别是用它<strong>声明变量时必须同时初始化变量</strong>，且尝试<strong>修改const声明的变量会导致运行时错误</strong>。</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>age</span> <span class=o>=</span> <span class=mi>26</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>age</span> <span class=o>=</span> <span class=mi>36</span><span class=p>;</span> <span class=c1>// TypeError：给常量赋值
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// const也不允许重复声明
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>const</span> <span class=nx>name</span> <span class=o>=</span> <span class=s1>&#39;Matt&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>name</span> <span class=o>=</span> <span class=s1>&#39;Nicholas&#39;</span><span class=p>;</span> <span class=c1>// SyntaxError
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// const声明的作用域也是块
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kr>const</span> <span class=nx>name</span> <span class=o>=</span> <span class=s1>&#39;Matt&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=kc>true</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kr>const</span> <span class=nx>name</span> <span class=o>=</span> <span class=s1>&#39;Nicholas&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>name</span><span class=p>);</span> <span class=c1>// Matt
</span></span></span></code></pre></div></div><p>const声明的限制只适用于它指向的变量的引用。换句话说，<strong>如果const变量引用的是一个对象，那么修改这个对象内部的属性并不违反const的限制</strong>。</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>person</span> <span class=o>=</span> <span class=p>{};</span>
</span></span><span class=line><span class=cl>    <span class=nx>person</span><span class=p>.</span><span class=nx>name</span> <span class=o>=</span> <span class=s1>&#39;Matt&#39;</span><span class=p>;</span>   <span class=c1>// ok
</span></span></span></code></pre></div></div><p>虽然const变量跟let变量很相似，但是不能用const来声明迭代变量（因为迭代变量会自增）</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kr>const</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=mi>10</span><span class=p>;</span> <span class=o>++</span><span class=nx>i</span><span class=p>)</span> <span class=p>{}</span> <span class=c1>// TypeError：给常量赋值
</span></span></span></code></pre></div></div><h4 id=声明风格及最佳实践>⭐声明风格及最佳实践</h4><ul><li><strong>不使用var</strong></li><li><strong>const优先，let次之</strong></li></ul><p>对变量有修改的话使用 let，当然修改的是对象内部属性还是继续用 const</p><h3 id=数据类型>数据类型</h3><p>ECMAScript有6种简单数据类型（也称为原始类型）: Undefined、Null、Boolean、Number、String和Symbol。Symbol（符号）是ECMAScript 6新增的。</p><p>还有一种复杂数据类型叫Object（对象）。Object是一种无序名值对的集合</p><h4 id=typeof操作符>typeof操作符</h4><p><strong>确定任意变量数据类型</strong></p><p>对一个值使用typeof操作符会返回下列字符串之一：❑ &ldquo;undefined"表示值未定义；❑ &ldquo;boolean"表示值为布尔值；❑ &ldquo;string"表示值为字符串；❑ &ldquo;number"表示值为数值；❑ &ldquo;object"表示值为对象（而不是函数）或null；❑ &ldquo;function"表示值为函数；❑ &ldquo;symbol"表示值为符号。</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>message</span> <span class=o>=</span> <span class=s2>&#34;some string&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>typeof</span> <span class=nx>message</span><span class=p>);</span>     <span class=c1>// &#34;string&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>typeof</span><span class=p>(</span><span class=nx>message</span><span class=p>));</span>    <span class=c1>// &#34;string&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>typeof</span> <span class=mi>95</span><span class=p>);</span>           <span class=c1>// &#34;number&#34;
</span></span></span></code></pre></div></div><p>注意，因为typeof是一个操作符而不是函数，所以不需要参数（但可以使用参数）。</p><p>注意typeof在某些情况下返回的结果可能会让人费解，但技术上讲还是正确的。比如，调用typeof null返回的是"object&rdquo;。这是因为特殊值null被认为是一个对空对象的引用。</p><h4 id=undefined类型>Undefined类型</h4><p>Undefined类型只有一个值，就是特殊值undefined。</p><p>当使用var或let声明了变量但没有初始化时，就相当于给变量赋予了undefined值：</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>message</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>message</span> <span class=o>==</span> <span class=kc>undefined</span><span class=p>);</span> <span class=c1>// true
</span></span></span></code></pre></div></div><p><strong>undefined是一个假值。因此，如果需要，可以用更简洁的方式检测它</strong></p><blockquote><p>不过要记住，也有很多其他可能的值同样是假值。所以一定要明确自己想检测的就是undefined这个字面值，而不仅仅是假值。</p></blockquote><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>message</span><span class=p>;</span> <span class=c1>// 这个变量被声明了，只是值为undefined
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// age没有声明
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span> <span class=p>(</span><span class=nx>message</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=c1>// 这个块不会执行-----------有数据返回时的处理
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=o>!</span> <span class=nx>message</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=c1>// 这个块会执行
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>age</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=c1>// 这里会报错
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span></span></span></code></pre></div></div><h4 id=null类型-对象类型>Null类型-对象类型</h4><p>Null类型同样只有一个值，即特殊值null。逻辑上讲，<strong>null值表示一个空对象指针</strong>，这也是给typeof传一个null会返回"object"的原因：</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>car</span> <span class=o>=</span> <span class=kc>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>typeof</span> <span class=nx>car</span><span class=p>);</span>   <span class=c1>// &#34;object&#34;
</span></span></span></code></pre></div></div><p><strong>在定义将来要保存对象值的变量时，建议使用null来初始化，不要使用其他值</strong></p><p>这样，只要检查这个变量的值是不是null就可以知道这个变量是否在后来被重新赋予了一个对象的引用，比如：</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>car</span> <span class=o>!</span> <span class=o>=</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=c1>// car是一个对象的引用
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span></span></span></code></pre></div></div><p><strong>用等于操作符（==）比较null和undefined始终返回true</strong>。但要注意，这个操作符会为了比较而转换它的操作数</p><p><strong>假值检测</strong></p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>message</span> <span class=o>=</span> <span class=kc>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>age</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>message</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=c1>// 这个块不会执行
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=o>!</span> <span class=nx>message</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=c1>// 这个块会执行
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>age</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=c1>// 这个块不会执行
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=o>!</span> <span class=nx>age</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=c1>// 这个块会执行
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span></span></span></code></pre></div></div><h5 id=null和undefined>null和undefined</h5><p>永远不必显式地将变量值设置为undefined。</p><p>任何时候，只要变量要保存对象，而当时又没有那个对象可保存，就要用null来填充该变量。这样就可以保持null是空对象指针的语义，并进一步将其与undefined区分开来。</p><h4 id=boolean类型>Boolean类型</h4><p>有两个字面值：true和false。这两个布尔值不同于数值，因此true不等于1，false不等于0。</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>found</span> <span class=o>=</span> <span class=kc>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>lost</span> <span class=o>=</span> <span class=kc>false</span><span class=p>;</span></span></span></code></pre></div></div><p>⚠注意：区分大小写</p><p>转换布尔值</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>message</span> <span class=o>=</span> <span class=s2>&#34;Hello world! &#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>messageAsBoolean</span> <span class=o>=</span> <span class=nb>Boolean</span><span class=p>(</span><span class=nx>message</span><span class=p>);</span></span></span></code></pre></div></div><p><strong>不同类型与布尔值之间的转换规则</strong></p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://pic.imgdb.cn/item/65a8af10871b83018a7bed67.jpg data-srcset="https://pic.imgdb.cn/item/65a8af10871b83018a7bed67.jpg, https://pic.imgdb.cn/item/65a8af10871b83018a7bed67.jpg 1.5x, https://pic.imgdb.cn/item/65a8af10871b83018a7bed67.jpg 2x" data-sizes=auto alt=https://pic.imgdb.cn/item/65a8af10871b83018a7bed67.jpg title=https://pic.imgdb.cn/item/65a8af10871b83018a7bed67.jpg></p><p><img class=lazyload src=/svg/loading.min.svg data-src=JavaScript%e9%ab%98%e7%ba%a7%e7%a8%8b%e5%ba%8f%e8%ae%be%e8%ae%a1%28%e7%ac%ac%e5%9b%9b%e7%89%88%29.assets/image-20240118125417737.png data-srcset="JavaScript%e9%ab%98%e7%ba%a7%e7%a8%8b%e5%ba%8f%e8%ae%be%e8%ae%a1%28%e7%ac%ac%e5%9b%9b%e7%89%88%29.assets/image-20240118125417737.png, JavaScript%e9%ab%98%e7%ba%a7%e7%a8%8b%e5%ba%8f%e8%ae%be%e8%ae%a1%28%e7%ac%ac%e5%9b%9b%e7%89%88%29.assets/image-20240118125417737.png 1.5x, JavaScript%e9%ab%98%e7%ba%a7%e7%a8%8b%e5%ba%8f%e8%ae%be%e8%ae%a1%28%e7%ac%ac%e5%9b%9b%e7%89%88%29.assets/image-20240118125417737.png 2x" data-sizes=auto alt=JavaScript高级程序设计(第四版).assets/image-20240118125417737.png title=image-20240118125417737></p><h4 id=number类型>Number类型</h4><p>Number类型使用IEEE 754格式表示整数和浮点值（在某些语言中也叫双精度值）</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>octalNum1</span> <span class=o>=</span> <span class=mi>070</span><span class=p>;</span>   <span class=c1>// 八进制的56
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>octalNum2</span> <span class=o>=</span> <span class=mi>079</span><span class=p>;</span>   <span class=c1>// 无效的八进制值，当成79 处理
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>octalNum3</span> <span class=o>=</span> <span class=mi>08</span><span class=p>;</span>    <span class=c1>// 无效的八进制值，当成8 处理
</span></span></span></code></pre></div></div><p><strong>浮点值</strong></p><p>要定义浮点值，数值中必须包含小数点，而且小数点后面必须至少有一个数字</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>floatNum1</span> <span class=o>=</span> <span class=mf>1.1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>floatNum2</span> <span class=o>=</span> <span class=mf>0.1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>floatNum3</span> <span class=o>=</span> <span class=p>.</span><span class=mi>1</span><span class=p>;</span>    <span class=c1>// 有效，但不推荐
</span></span></span></code></pre></div></div><p>科学计数法</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>floatNum</span> <span class=o>=</span> <span class=mf>3.125</span><span class=nx>e7</span><span class=p>;</span> <span class=c1>// 等于31250000
</span></span></span></code></pre></div></div><p><strong>永远不要测试某个特定的浮点值</strong>。</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span> <span class=o>==</span> <span class=mf>0.3</span><span class=p>)</span> <span class=p>{</span>        <span class=c1>// 别这么干！
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;You got 0.3.&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span></span></span></code></pre></div></div><p>如果两个数值分别是0.05和0.25，或者0.15和0.15，那没问题。但如果是0.1和0.2，如前所述，测试将失败</p><p><strong>值的范围</strong></p><p>ECMAScript可以表示的最小数值保存在Number.MIN_VALUE中，这个值在多数浏览器中是5e-324；可以表示的最大数值保存在Number.MAX_VALUE中，这个值在多数浏览器中是1.797693134862315 7e+308。</p><p><strong>NaN</strong></p><p>有一个特殊的数值叫NaN，意思是“不是数值”（Not a Number），用于表示本来要返回数值的操作失败了（而不是抛出错误）</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mi>0</span><span class=o>/</span><span class=mi>0</span><span class=p>);</span>     <span class=c1>// NaN
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=o>-</span><span class=mi>0</span><span class=o>/+</span><span class=mi>0</span><span class=p>);</span>   <span class=c1>// NaN
</span></span></span></code></pre></div></div><p><strong>数值转换</strong></p><p>有3个函数可以将非数值转换为数值：Number()、parseInt()和parseFloat()。Number()是转型函数，可用于任何数据类型。后两个函数主要用于将字符串转换为数值。</p><p>Number()函数基于如下规则执行转换。</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>num1</span> <span class=o>=</span> <span class=nb>Number</span><span class=p>(</span><span class=s2>&#34;Hello world! &#34;</span><span class=p>);</span>   <span class=c1>// NaN
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>num2</span> <span class=o>=</span> <span class=nb>Number</span><span class=p>(</span><span class=s2>&#34;&#34;</span><span class=p>);</span>                  <span class=c1>// 0
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>num3</span> <span class=o>=</span> <span class=nb>Number</span><span class=p>(</span><span class=s2>&#34;000011&#34;</span><span class=p>);</span>          <span class=c1>// 11
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>num4</span> <span class=o>=</span> <span class=nb>Number</span><span class=p>(</span><span class=kc>true</span><span class=p>);</span>               <span class=c1>// 1
</span></span></span></code></pre></div></div><p>考虑到用Number()函数转换字符串时相对复杂且有点反常规，<strong>通常在需要得到整数时可以优先使用parseInt()函数</strong></p><p>parseInt()函数更专注于字符串是否包含数值模式。字符串最前面的空格会被忽略，从第一个非空格字符开始转换。如果第一个字符不是数值字符、加号或减号，parseInt()立即返回NaN。这意味着空字符串也会返回NaN（这一点跟Number()不一样，它返回0）</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>num1</span> <span class=o>=</span> <span class=nb>parseInt</span><span class=p>(</span><span class=s2>&#34;1234blue&#34;</span><span class=p>);</span>   <span class=c1>// 1234
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>num2</span> <span class=o>=</span> <span class=nb>parseInt</span><span class=p>(</span><span class=s2>&#34;&#34;</span><span class=p>);</span>             <span class=c1>// NaN
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>num3</span> <span class=o>=</span> <span class=nb>parseInt</span><span class=p>(</span><span class=s2>&#34;0xA&#34;</span><span class=p>);</span>         <span class=c1>// 10，解释为十六进制整数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>num4</span> <span class=o>=</span> <span class=nb>parseInt</span><span class=p>(</span><span class=mf>22.5</span><span class=p>);</span>          <span class=c1>// 22
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>num5</span> <span class=o>=</span> <span class=nb>parseInt</span><span class=p>(</span><span class=s2>&#34;70&#34;</span><span class=p>);</span>          <span class=c1>// 70，解释为十进制值
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>num6</span> <span class=o>=</span> <span class=nb>parseInt</span><span class=p>(</span><span class=s2>&#34;0xf&#34;</span><span class=p>);</span>         <span class=c1>// 15，解释为十六进制整数
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>num1</span> <span class=o>=</span> <span class=nb>parseInt</span><span class=p>(</span><span class=s2>&#34;10&#34;</span><span class=p>,</span> <span class=mi>2</span><span class=p>);</span>    <span class=c1>// 2，按二进制解析
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>num2</span> <span class=o>=</span> <span class=nb>parseInt</span><span class=p>(</span><span class=s2>&#34;10&#34;</span><span class=p>,</span> <span class=mi>8</span><span class=p>);</span>    <span class=c1>// 8，按八进制解析
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>num3</span> <span class=o>=</span> <span class=nb>parseInt</span><span class=p>(</span><span class=s2>&#34;10&#34;</span><span class=p>,</span> <span class=mi>10</span><span class=p>);</span>   <span class=c1>// 10，按十进制解析
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>num4</span> <span class=o>=</span> <span class=nb>parseInt</span><span class=p>(</span><span class=s2>&#34;10&#34;</span><span class=p>,</span> <span class=mi>16</span><span class=p>);</span>   <span class=c1>// 16，按十六进制解析
</span></span></span></code></pre></div></div><p>parseFloat()函数的工作方式跟parseInt()函数类似，都是从位置0开始检测每个字符。同样，它也是解析到字符串末尾或者解析到一个无效的浮点数值字符为止。</p><p>parseFloat()函数的另一个不同之处在于，它始终忽略字符串开头的零。</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>num1</span> <span class=o>=</span> <span class=nb>parseFloat</span><span class=p>(</span><span class=s2>&#34;1234blue&#34;</span><span class=p>);</span>   <span class=c1>// 1234，按整数解析
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>num2</span> <span class=o>=</span> <span class=nb>parseFloat</span><span class=p>(</span><span class=s2>&#34;0xA&#34;</span><span class=p>);</span>         <span class=c1>// 0
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>num3</span> <span class=o>=</span> <span class=nb>parseFloat</span><span class=p>(</span><span class=s2>&#34;22.5&#34;</span><span class=p>);</span>        <span class=c1>// 22.5
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>num4</span> <span class=o>=</span> <span class=nb>parseFloat</span><span class=p>(</span><span class=s2>&#34;22.34.5&#34;</span><span class=p>);</span>    <span class=c1>// 22.34
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>num5</span> <span class=o>=</span> <span class=nb>parseFloat</span><span class=p>(</span><span class=s2>&#34;0908.5&#34;</span><span class=p>);</span>     <span class=c1>// 908.5
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>num6</span> <span class=o>=</span> <span class=nb>parseFloat</span><span class=p>(</span><span class=s2>&#34;3.125e7&#34;</span><span class=p>);</span>    <span class=c1>// 31250000
</span></span></span></code></pre></div></div><h4 id=string类型>String类型</h4><p>String（字符串）数据类型表示零或多个16位Unicode字符序列。字符串可以使用双引号（"）、单引号（&rsquo;）或反引号（`）标示，因此下面的代码都是合法的：</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>firstName</span> <span class=o>=</span> <span class=s2>&#34;John&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>lastName</span> <span class=o>=</span> <span class=s1>&#39;Jacob&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>lastName</span> <span class=o>=</span> <span class=sb>`Jingleheimerschmidt`</span></span></span></code></pre></div></div><p>不过要注意的是，以某种引号作为字符串开头，必须仍然以该种引号作为字符串结尾</p><p><strong>ECMAScript中的字符串是不可变的（immutable</strong>），意思是一旦创建，它们的值就不能变了。要修改某个变量中的字符串值，必须先销毁原始的字符串，然后将包含新值的另一个字符串保存到该变量</p><h5 id=字符字面量>字符字面量</h5><p><img class=lazyload src=/svg/loading.min.svg data-src=https://pic.imgdb.cn/item/65a8b4a4871b83018a8e6740.jpg data-srcset="https://pic.imgdb.cn/item/65a8b4a4871b83018a8e6740.jpg, https://pic.imgdb.cn/item/65a8b4a4871b83018a8e6740.jpg 1.5x, https://pic.imgdb.cn/item/65a8b4a4871b83018a8e6740.jpg 2x" data-sizes=auto alt=https://pic.imgdb.cn/item/65a8b4a4871b83018a8e6740.jpg title=https://pic.imgdb.cn/item/65a8b4a4871b83018a8e6740.jpg></p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://res.weread.qq.com/wrepub/epub_34336683_14 data-srcset="https://res.weread.qq.com/wrepub/epub_34336683_14, https://res.weread.qq.com/wrepub/epub_34336683_14 1.5x, https://res.weread.qq.com/wrepub/epub_34336683_14 2x" data-sizes=auto alt=https://res.weread.qq.com/wrepub/epub_34336683_14 title=img></p><h5 id=长度>长度</h5><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>text</span><span class=p>.</span><span class=nx>length</span><span class=p>);</span> <span class=c1>// 28
</span></span></span></code></pre></div></div><h5 id=转换为字符串>转换为字符串</h5><p>首先是使用几乎所有值都有的<strong>toString()方法</strong>。这个方法唯一的用途就是返回当前值的字符串等价物</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>age</span> <span class=o>=</span> <span class=mi>11</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>ageAsString</span> <span class=o>=</span> <span class=nx>age</span><span class=p>.</span><span class=nx>toString</span><span class=p>();</span>        <span class=c1>// 字符串&#34;11&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>found</span> <span class=o>=</span> <span class=kc>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>foundAsString</span> <span class=o>=</span> <span class=nx>found</span><span class=p>.</span><span class=nx>toString</span><span class=p>();</span>   <span class=c1>// 字符串&#34;true&#34;
</span></span></span></code></pre></div></div><p>如果你不确定一个值是不是null或undefined，可以使用<strong>String()转型函数</strong>，它始终会返回表示相应类型值的字符串</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>value1</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>value2</span> <span class=o>=</span> <span class=kc>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>value3</span> <span class=o>=</span> <span class=kc>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>value4</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nb>String</span><span class=p>(</span><span class=nx>value1</span><span class=p>));</span> <span class=c1>// &#34;10&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nb>String</span><span class=p>(</span><span class=nx>value2</span><span class=p>));</span>   <span class=c1>// &#34;true&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nb>String</span><span class=p>(</span><span class=nx>value3</span><span class=p>));</span>   <span class=c1>// &#34;null&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nb>String</span><span class=p>(</span><span class=nx>value4</span><span class=p>));</span>   <span class=c1>// &#34;undefined&#34;
</span></span></span></code></pre></div></div><h5 id=模板字面量>模板字面量</h5><p>ECMAScript 6新增了使用模板字面量定义字符串的能力。与使用单引号或双引号不同，模板字面量保留换行字符，可以跨行定义字符串：</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>myMultiLineString</span> <span class=o>=</span> <span class=s1>&#39;first line\nsecond line&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>myMultiLineTemplateLiteral</span> <span class=o>=</span> <span class=sb>`first line
</span></span></span><span class=line><span class=cl><span class=sb>    second line`</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>myMultiLineString</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=c1>// first line
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// second line&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>myMultiLineTemplateLiteral</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=c1>// first line
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// second line
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>myMultiLineString</span> <span class=o>===</span> <span class=nx>myMultiLinetemplateLiteral</span><span class=p>);</span> <span class=c1>// true
</span></span></span></code></pre></div></div><p>由于模板字面量会保持<strong>反引号</strong>内部的空格，因此在使用时要格外注意。格式正确的模板字符串看起来可能会缩进不当</p><h5 id=字符串插值><strong>字符串插值</strong></h5><p>模板字面量最常用的一个特性是支持字符串插值，也就是可以在一个连续定义中插入一个或多个值</p><p>字符串插值通过在${}中使用一个JavaScript表达式实现：</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>value</span> <span class=o>=</span> <span class=mi>5</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>exponent</span> <span class=o>=</span> <span class=s1>&#39;second&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 以前，字符串插值是这样实现的：
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>interpolatedString</span> <span class=o>=</span>
</span></span><span class=line><span class=cl>      <span class=nx>value</span> <span class=o>+</span> <span class=s1>&#39; to the &#39;</span> <span class=o>+</span> <span class=nx>exponent</span> <span class=o>+</span> <span class=s1>&#39; power is &#39;</span> <span class=o>+</span> <span class=p>(</span><span class=nx>value</span> <span class=err>＊</span> <span class=nx>value</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 现在，可以用模板字面量这样实现：
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>let</span> <span class=nx>interpolatedTemplateLiteral</span> <span class=o>=</span>
</span></span><span class=line><span class=cl>      <span class=sb>`</span><span class=si>${</span> <span class=nx>value</span> <span class=si>}</span><span class=sb> to the </span><span class=si>${</span> <span class=nx>exponent</span> <span class=si>}</span><span class=sb> power is </span><span class=si>${</span> <span class=nx>value</span> <span class=err>＊</span> <span class=nx>value</span> <span class=si>}</span><span class=sb>`</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>interpolatedString</span><span class=p>);</span>              <span class=c1>// 5 to the second power is 25
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>interpolatedTemplateLiteral</span><span class=p>);</span>   <span class=c1>// 5 to the second power is 25
</span></span></span></code></pre></div></div><p><strong>所有插入的值都会使用toString()强制转型为字符串，而且任何JavaScript表达式都可以用于插值</strong></p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>foo</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>toString</span><span class=o>:</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=s1>&#39;World&#39;</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`Hello, </span><span class=si>${</span> <span class=nx>foo</span> <span class=si>}</span><span class=sb>! `</span><span class=p>);</span>        <span class=c1>// Hello, World!
</span></span></span></code></pre></div></div><p>在插值表达式中可以调用函数和方法：</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>function</span> <span class=nx>capitalize</span><span class=p>(</span><span class=nx>word</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=sb>`</span><span class=si>${</span> <span class=nx>word</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=nx>toUpperCase</span><span class=p>()</span> <span class=si>}${</span> <span class=nx>word</span><span class=p>.</span><span class=nx>slice</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=si>}</span><span class=sb>`</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`</span><span class=si>${</span> <span class=nx>capitalize</span><span class=p>(</span><span class=s1>&#39;hello&#39;</span><span class=p>)</span> <span class=si>}</span><span class=sb>, </span><span class=si>${</span> <span class=nx>capitalize</span><span class=p>(</span><span class=s1>&#39;world&#39;</span><span class=p>)</span> <span class=si>}</span><span class=sb>! `</span><span class=p>);</span> <span class=c1>// Hello, World!
</span></span></span></code></pre></div></div><h5 id=模板字面量标签函数>模板字面量标签函数</h5><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>a</span> <span class=o>=</span> <span class=mi>6</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>b</span> <span class=o>=</span> <span class=mi>9</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>function</span> <span class=nx>simpleTag</span><span class=p>(</span><span class=nx>strings</span><span class=p>,</span> <span class=nx>aValExpression</span><span class=p>,</span> <span class=nx>bValExpression</span><span class=p>,</span> <span class=nx>sumExpression</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>strings</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>aValExpression</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>bValExpression</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>sumExpression</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=s1>&#39;foobar&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>untaggedResult</span> <span class=o>=</span> <span class=sb>`</span><span class=si>${</span> <span class=nx>a</span> <span class=si>}</span><span class=sb> + </span><span class=si>${</span> <span class=nx>b</span> <span class=si>}</span><span class=sb> = </span><span class=si>${</span> <span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span> <span class=si>}</span><span class=sb>`</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nx>lettaggedResult</span><span class=o>=</span><span class=nx>simpleTag</span><span class=sb>`</span><span class=si>${</span><span class=nx>a</span><span class=si>}</span><span class=sb>+</span><span class=si>${</span><span class=nx>b</span><span class=si>}</span><span class=sb>=</span><span class=si>${</span><span class=nx>a</span><span class=o>+</span><span class=nx>b</span><span class=si>}</span><span class=sb>`</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c1>// [&#34;&#34;, &#34; + &#34;, &#34; = &#34;, &#34;&#34;]
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// 6
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// 9
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// 15
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>untaggedResult</span><span class=p>);</span>    <span class=c1>// &#34;6 + 9 = 15&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>taggedResult</span><span class=p>);</span>      <span class=c1>// &#34;foobar&#34;
</span></span></span></code></pre></div></div><h5 id=原始字符串>原始字符串</h5><p>使用模板字面量也可以直接获取原始的模板字面量内容（如换行符或Unicode字符），而不是被转换后的字符表示。为此，可以使用默认的String.raw标签函数：</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=c1>// Unicode示例
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// \u00A9 是版权符号
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`\u00A9`</span><span class=p>);</span>               <span class=c1>// ©
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nb>String</span><span class=p>.</span><span class=nx>raw</span><span class=sb>`\u00A9`</span><span class=p>);</span>   <span class=c1>// \u00A9
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// 换行符示例
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`first line\nsecond line`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=c1>// first line
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// second line
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nb>String</span><span class=p>.</span><span class=nx>raw</span><span class=sb>`first line\nsecond line`</span><span class=p>);</span> <span class=c1>// &#34;first line\nsecond line&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// 对实际的换行符来说是不行的
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// 它们不会被转换成转义序列的形式
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`first line
</span></span></span><span class=line><span class=cl><span class=sb>    second line`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=c1>// first line
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// second line
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nb>String</span><span class=p>.</span><span class=nx>raw</span><span class=sb>`first line
</span></span></span><span class=line><span class=cl><span class=sb>    second line`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=c1>// first line
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// second line
</span></span></span></code></pre></div></div><p>另外，也可以通过标签函数的第一个参数，即字符串数组的．raw属性取得每个字符串的原始内容：</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>function</span> <span class=nx>printRaw</span><span class=p>(</span><span class=nx>strings</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Actual characters:&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>for</span> <span class=p>(</span><span class=kr>const</span> <span class=nx>string</span> <span class=k>of</span> <span class=nx>strings</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>string</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>&#39;Escaped characters; &#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>for</span> <span class=p>(</span><span class=kr>const</span> <span class=nx>rawString</span> <span class=k>of</span> <span class=nx>strings</span><span class=p>.</span><span class=nx>raw</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>rawString</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=nx>printRaw</span><span class=sb>`\u00A9</span><span class=si>${</span> <span class=s1>&#39;and&#39;</span> <span class=si>}</span><span class=sb>\n`</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Actual characters:
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// ©
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>//（换行符）
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// Escaped characters:
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// \u00A9
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// \n
</span></span></span></code></pre></div></div><h4 id=symbol类型>Symbol类型</h4><p>符号是原始值，且符号实例是唯一、不可变的。符号的用途是确保对象属性使用唯一标识符，不会发生属性冲突的危险。</p><p>符号就是用来创建唯一记号，进而用作非字符串形式的对象属性。</p><p><strong>符号的基本用法</strong></p><p>符号需要使用Symbol()函数初始化。因为符号本身是原始类型，所以typeof操作符对符号返回symbol。</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>sym</span> <span class=o>=</span> <span class=nx>Symbol</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>typeof</span> <span class=nx>sym</span><span class=p>);</span> <span class=c1>// symbol
</span></span></span></code></pre></div></div><p>调用Symbol()函数时，也可以传入一个字符串参数作为对符号的描述（description），将来可以通过这个字符串来调试代码。但是，这个字符串参数与符号定义或标识完全无关：</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>genericSymbol</span> <span class=o>=</span> <span class=nx>Symbol</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>otherGenericSymbol</span> <span class=o>=</span> <span class=nx>Symbol</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>fooSymbol</span> <span class=o>=</span> <span class=nx>Symbol</span><span class=p>(</span><span class=s1>&#39;foo&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>otherFooSymbol</span> <span class=o>=</span> <span class=nx>Symbol</span><span class=p>(</span><span class=s1>&#39;foo&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>genericSymbol</span> <span class=o>==</span> <span class=nx>otherGenericSymbol</span><span class=p>);</span>   <span class=c1>// false
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>fooSymbol</span> <span class=o>==</span> <span class=nx>otherFooSymbol</span><span class=p>);</span>             <span class=c1>// false
</span></span></span></code></pre></div></div><p>未完</p><h4 id=object类型>Object类型</h4><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>o</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Object</span><span class=p>();</span></span></span></code></pre></div></div><p>Object的实例本身并不是很有用，但理解与它相关的概念非常重要。类似Java中的java.lang. Object, ECMAScript中的Object也是派生其他对象的基类。Object类型的所有属性和方法在派生的对象上同样存在。</p><h3 id=函数>函数</h3><p>ECMAScript中的函数使用function关键字声明，后跟一组参数，然后是函数体。</p><p><strong>函数的基本语法</strong></p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>function</span> <span class=nx>functionName</span><span class=p>(</span><span class=nx>arg0</span><span class=p>,</span> <span class=nx>arg1</span><span class=p>,</span> <span class=p>...,</span> <span class=nx>argN</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>statements</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span></span></span></code></pre></div></div><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>function</span> <span class=nx>sayHi</span><span class=p>(</span><span class=nx>name</span><span class=p>,</span> <span class=nx>message</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s2>&#34;Hello &#34;</span> <span class=o>+</span> <span class=nx>name</span> <span class=o>+</span> <span class=s2>&#34;, &#34;</span> <span class=o>+</span> <span class=nx>message</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span></span></span></code></pre></div></div><p><strong>函数调用</strong></p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=nx>sayHi</span><span class=p>(</span><span class=s2>&#34;Nicholas&#34;</span><span class=p>,</span> <span class=s2>&#34;how are you today? &#34;</span><span class=p>);</span></span></span></code></pre></div></div><p><strong>有返回值的函数</strong></p><p>ECMAScript中的函数不需要指定是否返回值。任何函数在任何时间都可以使用return语句来返回函数的值，用法是后跟要返回的值</p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>function</span> <span class=nx>sum</span><span class=p>(</span><span class=nx>num1</span><span class=p>,</span> <span class=nx>num2</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>num1</span> <span class=o>+</span> <span class=nx>num2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kr>const</span> <span class=nx>result</span> <span class=o>=</span> <span class=nx>sum</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>10</span><span class=p>);</span></span></span></code></pre></div></div><p>要注意的是，只要碰到return语句，函数就会立即停止执行并退出。因此，return语句后面的代码不会被执行</p><h2 id=第10章-函数>第10章 函数</h2><p><strong>函数实际上是对象</strong>，每个函数都是Function类型的实例</p><p>因为函数是对象，所以函数名就是指向函数对象的指针，而且不一定与函数本身紧密绑定</p><h3 id=定义函数的方式>定义函数的方式</h3><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>function</span> <span class=nx>sum</span> <span class=p>(</span><span class=nx>num1</span><span class=p>,</span> <span class=nx>num2</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>num1</span> <span class=o>+</span> <span class=nx>num2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span></span></span></code></pre></div></div><p><strong>函数表达式</strong></p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>sum</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>num1</span><span class=p>,</span> <span class=nx>num2</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>num1</span> <span class=o>+</span> <span class=nx>num2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span></span></span></code></pre></div></div><blockquote><p>注意这里的函数末尾是有分号的，与任何变量初始化语句一样</p></blockquote><p><strong>“箭头函数”（arrow function）</strong></p><div class="code-block code-line-numbers open" style="counter-reset:code-block 0"><div class="code-header language-js"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=复制到剪贴板><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>sum</span> <span class=o>=</span> <span class=p>(</span><span class=nx>num1</span><span class=p>,</span> <span class=nx>num2</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>num1</span> <span class=o>+</span> <span class=nx>num2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span></span></span></code></pre></div></div><h3 id=箭头函数>箭头函数</h3></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>更新于 2024-01-18</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/javascript/>JavaScript</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/day04-atomic-habits/ class=prev rel=prev title="day04 FORGET ABOUT GOALS, FOCUS ON SYSTEMS INSTEAD"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>day04 FORGET ABOUT GOALS, FOCUS ON SYSTEMS INSTEAD</a>
<a href=/day05-atomic-habits-2/ class=next rel=next title="day05 The most importantly, What is your identity.">day05 The most importantly, What is your identity.<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div><div id=comments><div id=valine class=comment></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://valine.js.org/>Valine</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>由 <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.145.0">Hugo</a> 强力驱动 | 主题 - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.3.1-DEV"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2019 - 2025</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>林风Leo</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i></a></div><div id=fixed-buttons-hidden><a href=# id=view-comments class=fixed-button title=查看评论><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><link rel=stylesheet href=/lib/valine/valine.min.css><script src=https://cdn.jsdelivr.net/npm/valine@1.5.3/dist/Valine.min.js></script><script src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js></script><script src=https://cdn.jsdelivr.net/npm/algoliasearch@5.20.2/dist/lite/builds/browser.umd.min.js></script><script src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script>window.config={comment:{valine:{appId:"QGzwQXOqs5JOhN4RGPOkR2mR-MdYXbMMI",appKey:"WBmoGyJtbqUswvfLh6L8iEBr",avatar:"mp",el:"#valine",emojiCDN:"https://cdn.jsdelivr.net/npm/emoji-datasource-google@15.1.2/img/google/64/",emojiMaps:{100:"1f4af.png",alien:"1f47d.png",anger:"1f4a2.png",angry:"1f620.png",anguished:"1f627.png",astonished:"1f632.png",black_heart:"1f5a4.png",blue_heart:"1f499.png",blush:"1f60a.png",bomb:"1f4a3.png",boom:"1f4a5.png",broken_heart:"1f494.png",brown_heart:"1f90e.png",clown_face:"1f921.png",cold_face:"1f976.png",cold_sweat:"1f630.png",confounded:"1f616.png",confused:"1f615.png",cry:"1f622.png",crying_cat_face:"1f63f.png",cupid:"1f498.png",dash:"1f4a8.png",disappointed:"1f61e.png",disappointed_relieved:"1f625.png",dizzy:"1f4ab.png",dizzy_face:"1f635.png",drooling_face:"1f924.png",exploding_head:"1f92f.png",expressionless:"1f611.png",face_vomiting:"1f92e.png",face_with_cowboy_hat:"1f920.png",face_with_hand_over_mouth:"1f92d.png",face_with_head_bandage:"1f915.png",face_with_monocle:"1f9d0.png",face_with_raised_eyebrow:"1f928.png",face_with_rolling_eyes:"1f644.png",face_with_symbols_on_mouth:"1f92c.png",face_with_thermometer:"1f912.png",fearful:"1f628.png",flushed:"1f633.png",frowning:"1f626.png",ghost:"1f47b.png",gift_heart:"1f49d.png",green_heart:"1f49a.png",grimacing:"1f62c.png",grin:"1f601.png",grinning:"1f600.png",hankey:"1f4a9.png",hear_no_evil:"1f649.png",heart:"2764-fe0f.png",heart_decoration:"1f49f.png",heart_eyes:"1f60d.png",heart_eyes_cat:"1f63b.png",heartbeat:"1f493.png",heartpulse:"1f497.png",heavy_heart_exclamation_mark_ornament:"2763-fe0f.png",hole:"1f573-fe0f.png",hot_face:"1f975.png",hugging_face:"1f917.png",hushed:"1f62f.png",imp:"1f47f.png",innocent:"1f607.png",japanese_goblin:"1f47a.png",japanese_ogre:"1f479.png",joy:"1f602.png",joy_cat:"1f639.png",kiss:"1f48b.png",kissing:"1f617.png",kissing_cat:"1f63d.png",kissing_closed_eyes:"1f61a.png",kissing_heart:"1f618.png",kissing_smiling_eyes:"1f619.png",laughing:"1f606.png",left_speech_bubble:"1f5e8-fe0f.png",love_letter:"1f48c.png",lying_face:"1f925.png",mask:"1f637.png",money_mouth_face:"1f911.png",nauseated_face:"1f922.png",nerd_face:"1f913.png",neutral_face:"1f610.png",no_mouth:"1f636.png",open_mouth:"1f62e.png",orange_heart:"1f9e1.png",partying_face:"1f973.png",pensive:"1f614.png",persevere:"1f623.png",pleading_face:"1f97a.png",pouting_cat:"1f63e.png",purple_heart:"1f49c.png",rage:"1f621.png",relaxed:"263a-fe0f.png",relieved:"1f60c.png",revolving_hearts:"1f49e.png",right_anger_bubble:"1f5ef-fe0f.png",robot_face:"1f916.png",rolling_on_the_floor_laughing:"1f923.png",scream:"1f631.png",scream_cat:"1f640.png",see_no_evil:"1f648.png",shushing_face:"1f92b.png",skull:"1f480.png",skull_and_crossbones:"2620-fe0f.png",sleeping:"1f634.png",sleepy:"1f62a.png",slightly_frowning_face:"1f641.png",slightly_smiling_face:"1f642.png",smile:"1f604.png",smile_cat:"1f638.png",smiley:"1f603.png",smiley_cat:"1f63a.png",smiling_face_with_3_hearts:"1f970.png",smiling_imp:"1f608.png",smirk:"1f60f.png",smirk_cat:"1f63c.png",sneezing_face:"1f927.png",sob:"1f62d.png",space_invader:"1f47e.png",sparkling_heart:"1f496.png",speak_no_evil:"1f64a.png",speech_balloon:"1f4ac.png","star-struck":"1f929.png",stuck_out_tongue:"1f61b.png",stuck_out_tongue_closed_eyes:"1f61d.png",stuck_out_tongue_winking_eye:"1f61c.png",sunglasses:"1f60e.png",sweat:"1f613.png",sweat_drops:"1f4a6.png",sweat_smile:"1f605.png",thinking_face:"1f914.png",thought_balloon:"1f4ad.png",tired_face:"1f62b.png",triumph:"1f624.png",two_hearts:"1f495.png",unamused:"1f612.png",upside_down_face:"1f643.png",weary:"1f629.png",white_frowning_face:"2639-fe0f.png",white_heart:"1f90d.png",wink:"1f609.png",woozy_face:"1f974.png",worried:"1f61f.png",yawning_face:"1f971.png",yellow_heart:"1f49b.png",yum:"1f60b.png",zany_face:"1f92a.png",zipper_mouth_face:"1f910.png",zzz:"1f4a4.png"},enableQQ:!1,highlight:!0,lang:"zh-CN",pageSize:10,placeholder:"你的评论 ...",recordIP:!0,serverURLs:"https://valine.hugoloveit.com",visitor:!0}},search:{algoliaAppID:"",algoliaIndex:"",algoliaSearchKey:"",highlightTag:"em",maxResultLength:10,noResultsFound:"没有找到结果",snippetLength:30,type:"algolia"}}</script><script src=/js/theme.min.js></script></body></html>